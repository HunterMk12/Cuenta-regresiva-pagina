<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Cuenta Regresiva</title>
    <style>
        body {
          font-family: Arial, sans-serif;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          height: 100vh;
          margin: 0;
          background: #E0593D;
          color: #1C0803;
        }
        #countdown {
          font-size: 6rem;
          font-weight: bold;
          margin: 20px 0;
        }
    </style>
</head>
    <body>

    <div id="gif-cenizas" style="position:absolute; top:0; left:0; width:100%; height:100%; display:flex; justify-content:center; align-items:center; pointer-events:none;">
        <img src="imagenes/cenisas.gif" alt="Marco animado" style="width:100%; height:100%;"/>
    </div>

    <div id="gif-final" style="position:absolute; top:0; left:0; width:100%; height:100%; display:none; justify-content:center; align-items:center; pointer-events:none;">
        <img src="imagenes/confeti.gif" alt="Final animado" style="width:100%; height:100%;"/>
    </div>

    <audio id="audio-final" src="imagenes/yupi.mp3" preload="auto"></audio>

    <img src="imagenes/cabeza.jpg" width="600" alt="Hornet2"/>
    <h1>Cuenta regresiva para el silksong</h1>
    <div id="countdown">Cargando...</div>

    <img src="imagenes/hornet_mirando_arriba.PNG" width="600" alt="Hornet" style="margin-top: -130px;"/>

    <div id="link" style="display:none; margin-top:20px;">
        <a href="https://store.steampowered.com/app/1030300/Hollow_Knight_Silksong/"
           target="_blank"
           style="
            display:inline-block;
            padding:20px 40px;
            background: linear-gradient(to bottom, #0714F0, #ffffff,#0714F0);
            color:#000;
            font-size:2rem;
            font-weight:bold;
            border-radius:15px;
            text-decoration:none;
            box-shadow:0 0 15px rgba(0,0,0,0.5);
            transition: transform 0.2s, box-shadow 0.2s;">
            Ir a la p√°gina de Steam
        </a>
    </div>

    <button id="btn-toggle"
            style="position:fixed; top:20px; right:20px; padding:15px 25px; background:#4CAF50; color:#fff; font-size:1.2rem; border:none; border-radius:10px; cursor:pointer;">
        Dale click
    </button>

    <script>
        const btnToggle = document.getElementById("btn-toggle");
        btnToggle.addEventListener("click", () => {
            btnToggle.innerText = "Hola :v";
        });
    </script>

<script>
    //const targetDate = new Date("2025-09-04T14:00:00Z");
    const targetDate = new Date(new Date().getTime() + 5000);
    const gifCenizas = document.getElementById("gif-cenizas");
    const gifFinal = document.getElementById("gif-final");
    const audioFinal = document.getElementById("audio-final");

    document.body.addEventListener("click", () => {
        audioFinal.play().then(() => {
            audioFinal.pause();
            audioFinal.currentTime = 0;
        });
    }, { once: true });

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate.getTime() - now;

      if (distance <= 0) {
        document.getElementById("countdown").innerHTML = "00:00:00";
        document.getElementById("link").style.display = "block";
        gifCenizas.style.display = "none";
        gifFinal.style.display = "flex";
        audioFinal.play();
        clearInterval(timer);
        return;
      }

      const hours = Math.floor((distance / (1000 * 60 * 60)));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      document.getElementById("countdown").innerHTML =
        `${hours.toString().padStart(2, "0")}:` +
        `${minutes.toString().padStart(2, "0")}:` +
        `${seconds.toString().padStart(2, "0")}`;
    }

    const timer = setInterval(updateCountdown, 1000);
    updateCountdown();
</script>
</body>
</html>
